# Code Example for `deposit()`

Below is an example implementation for calling the `deposit()` function. 

:::code-group

```tsx [viem]
import { parseEther, http, createWalletClient, publicActions } from 'viem'
import { privateKeyToAccount } from 'viem/accounts'
import { optimism } from 'viem/chains'
import { depositABI } from './depositABI'

// Create a wallet from a private key
const account = privateKeyToAccount('0x...')

// Connect the wallet to a provider
const client = createWalletClient({
  account,
  chain: optimism, // Target Chain
  transport: http(),
}).extend(publicActions)

// Replace with address you want to send funds to
const toAddress = account.address

// Each chain will receive an equal portion of the value sent
const amount: bigint = parseEther('0.0006'.toString())

// This example is targeting zkSync (51), Polygon zkEVM (52)
const gasZipShortChainIDs = [51, 52]

// Prepare targeted chains parameter for deposit()
const chainsBN = gasZipShortChainIDs.reduce((p, c) => (p << BigInt(8)) + BigInt(c), BigInt(0))
;(async () => {
  // Prepare the contract write configuration
  const { request } = await client.simulateContract({
    address: '0x9e22ebec84c7e4c4bd6d4ae7ff6f4d436d6d8390', // Targeting Gas.zip Optimism Contract
    abi: depositABI,
    functionName: 'deposit',
    value: amount,
    args: [chainsBN, toAddress],
  })

  // Call the deposit() function
  await client.writeContract(request)
})()
```

```tsx [ethers]
import { ethers, parseEther } from 'ethers'
import { depositAbi } from './depositABI'

// Create a wallet from a private key
const privateKey = '0x...'
const wallet = new ethers.Wallet(privateKey)

// Connect the wallet to a provider
const optimismChainId = 10
const provider = new ethers.AlchemyProvider(optimismChainId, 'AlchemyID')
const signer = wallet.connect(provider)

// Replace with address you want to send funds to
const toAddress = wallet.address 

// Each chain will receive an equal portion of the value sent
const amount: bigint = parseEther('0.0006'.toString())
const amountInWei: string = amount.toString()

// This example is targeting zkSync (51), Polygon zkEVM (52)
const gasZipShortChainIDs = [51, 52]

// Prepare targeted chains parameter for deposit()
const chainsBN = gasZipShortChainIDs.reduce((p, c) => (p << BigInt(8)) + BigInt(c), BigInt(0))

// Create a contract instance
const contract = new ethers.Contract('0x9e22ebec84c7e4c4bd6d4ae7ff6f4d436d6d8390', depositAbi, signer)

;(async () => {
  // Call the deposit() function
  await contract.deposit(chainsBN, toAddress, { value: amountInWei })
})()
```

```python [python]
from web3 import Web3, HTTPProvider

deposit_abi = [{"inputs": [{"internalType": "uint256","name": "chains","type": "uint256"},{"internalType": "address","name": "to","type": "address"}],"name": "deposit","outputs": [],"stateMutability": "payable","type": "function"}]

w3 = Web3(HTTPProvider('https://opt-mainnet.g.alchemy.com/'))

# Each chain will receive an equal portion of the value sent
amount_in_wei = Web3.to_wei(0.0006, 'ether')

# This example is targeting zkSync (51), Polygon zkEVM (52)
gas_zip_short_chain_ids = [51, 52]

# Prepare targeted chains parameter for deposit()
chains_bn = sum(chain << (8 * i) for i, chain in enumerate(gas_zip_short_chain_ids))

# Create a contract instance
contract_address = Web3.to_checksum_address('0x9e22ebec84c7e4c4bd6d4ae7ff6f4d436d6d8390')
contract = w3.eth.contract(address=contract_address, abi=deposit_abi)

# Create a wallet from a private key
private_key = '0x...'
account = w3.eth.account.from_key(private_key)
nonce = w3.eth.get_transaction_count(account.address)

# Replace with address you want to send funds to
to_address = account.address

# Create the txn
gas = contract.functions.deposit(chains_bn, to_address).estimate_gas({'value': amount_in_wei})
txn = contract.functions.deposit(chains_bn, to_address).build_transaction({
    'chainId': w3.eth.chain_id,
    'nonce': nonce,
    'gasPrice': w3.eth.gas_price,
    'gas': gas,
    'value': amount_in_wei
})

# Sign the transaction
signed_txn = w3.eth.account.sign_transaction(txn, private_key)

# Send the transaction
transaction_hash = w3.eth.send_raw_transaction(signed_txn.rawTransaction)
print(f'Transaction sent with hash: {transaction_hash.hex()}')
```

```tsx [depositABI.ts]
// Define the depositABI
export const depositABI = [
  {
    inputs: [
      {
        internalType: 'uint256',
        name: 'chains',
        type: 'uint256',
      },
      {
        internalType: 'address',
        name: 'to',
        type: 'address',
      },
    ],
    name: 'deposit',
    outputs: [],
    stateMutability: 'payable',
    type: 'function',
  },
] as const
```


:::